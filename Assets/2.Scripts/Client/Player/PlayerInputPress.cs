using UnityEngine;
using UnityEngine.InputSystem;

public class PlayerInputPress : MonoBehaviour
{
	[Header("플레이어 이동")]
    public Vector2 move;
    public Vector2 look;
    public bool jump;
    public bool run;
    public bool interact;
	public bool phone;
	public bool esc = false;
	public bool analogMovement;

	[Header("마우스 잠금")]
    public bool cursorLocked = true;
	public static CursorLockMode CLM;

    #region 키가 눌렸는가?
	public void OnMove(InputValue value)
	{
		MoveInput(value.Get<Vector2>());
	}

	public void OnLook(InputValue value)
	{
		LookInput(value.Get<Vector2>());
	}

	public void OnJump(InputValue value)
	{
		JumpInput(value.isPressed);
	}

	public void OnRun(InputValue value)
	{
        if (value.isPressed)
        {
			RunInput();
		}
	}

	public void OnInteract(InputValue value)
    {
		InteractInput(value.isPressed);
    }

	public void OnPhone(InputValue value)
    {
		PhoneInput();
    }

	public void OnSetting(InputValue value)
    {
		EscInput();
    }
	#endregion

	#region 키에대한 로직
	public void MoveInput(Vector2 newMoveDirection)
	{
		move = newMoveDirection;
	}

	public void LookInput(Vector2 newLookDirection)
	{
		look = newLookDirection;
	}

	public void JumpInput(bool newJumpState)
	{
		jump = newJumpState;
	}

	public void RunInput()
	{
		run = run ? false : true;
	}

	public void InteractInput(bool newInteractState)
    {
		interact = newInteractState;
		Invoke(nameof(initButton), 0.5f);
	}

	void initButton()
    {
		interact = false;
	}

	public void PhoneInput()
    {
		phone = phone ? false : true;
	}

	public void EscInput()
    {
		esc = esc ? false : true;
    }
	#endregion
}